# Cloud Scheduler Configuration
# ニュース収集を1日1回実行する設定

name: fx-news-collection-daily
description: "FXニュース収集の定期実行 (1日1回)"
schedule: "0 9 * * *"  # 毎日 9:00 JST (0:00 UTC + 9h)
time_zone: "Asia/Tokyo"

# Cloud Run または Cloud Functions のエンドポイントを指定
# 実装方法に応じて以下のいずれかを使用:

# Option 1: Cloud Functions (推奨 - シンプル)
# target:
#   type: http
#   uri: https://REGION-PROJECT_ID.cloudfunctions.net/fx-news-collection
#   http_method: POST
#   headers:
#     Content-Type: application/json
#   body: |
#     {
#       "query": "USD/JPY EUR/JPY 為替 最新ニュース",
#       "news_count": 5,
#       "skip_duplicate": true
#     }

# Option 2: Cloud Run
# target:
#   type: http
#   uri: https://fx-insight-bot-XXXXX.a.run.app/api/v1/news/collect
#   http_method: POST
#   headers:
#     Content-Type: application/json
#   body: |
#     {
#       "query": "USD/JPY EUR/JPY 為替 最新ニュース",
#       "news_count": 5,
#       "skip_duplicate": true
#     }

# リトライ設定
retry_config:
  retry_count: 3
  max_retry_duration: 600s
  min_backoff_duration: 5s
  max_backoff_duration: 60s
  max_doublings: 3

# タイムアウト設定
attempt_deadline: 300s  # 5分
